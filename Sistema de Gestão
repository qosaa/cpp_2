#include <iostream>
using namespace std;

struct Produto {
    string nome;
    int quantidade;
    float preco;
};

// Função para adicionar um novo produto
void adicionarProduto(Produto produtos[], int& quantidadeAtual) {
    if (quantidadeAtual < 100) {
        cout << "Produto " << quantidadeAtual + 1 << ":" << endl;

        cout << "Qual é o nome do produto: ";
        cin >> produtos[quantidadeAtual].nome;

        cout << "Qual é a quantidade do produto: ";
        cin >> produtos[quantidadeAtual].quantidade;

        cout << "Qual é o preço do produto: ";
        cin >> produtos[quantidadeAtual].preco;

        quantidadeAtual++;
        cout << "Produto adicionado." << endl;
        cout << "..............................." << endl;
    } else {
        cout << "Limite de produtos atingido." << endl;
    }
}

// Função para exibir todos os produtos
void exibirProdutos(const Produto produtos[], int quantidadeAtual) {
    if (quantidadeAtual == 0) {
        cout << "Nenhum produto adicionado." << endl;
    } else {
        for (int i = 0; i < quantidadeAtual; i++) {
            cout << "Produto " << i + 1 << ":" << endl;
            cout << "Nome: " << produtos[i].nome << endl;
            cout << "Preço: " << produtos[i].preco << endl;
            cout << "Quantidade: " << produtos[i].quantidade << endl;
            cout << ".........................." << endl;
        }
    }
}

// Função para calcular o valor total do stock
float calcularvalortotal(const Produto produtos[], int quantidadeAtual) {
    float total = 0;
    for (int i = 0; i < quantidadeAtual; i++) {
        total += produtos[i].preco * produtos[i].quantidade;
    }
    return total;
}

int main() {
    Produto produtos[100]; 
    int quantidadeAtual = 0;
    int menu;

    do {
        //mostra o menu
        cout << "1. Adicionar produto" << endl;
        cout << "2. Exibir produtos" << endl;
        cout << "3. Calcular valor total do stock" << endl;
        cout << "0. Sair" << endl;
        cout << "Opção: ";
        cin >> menu;

        switch(menu) {
            case 1:
                cout << "Selecionou: Adicionar produto" << endl;
                adicionarProduto(produtos, quantidadeAtual); 
                break;

            case 2:
                cout << "Selecionou: Exibir produtos" << endl;
                exibirProdutos(produtos, quantidadeAtual);
                break;

            case 3:
                cout << "Selecionou: Calcular valor total do stock" << endl;
                cout << "Valor total do stock: " << calcularvalortotal(produtos, quantidadeAtual) << endl;
                break;

            case 0:
                cout << "Selecionou: Sair" << endl;
                break;

            default:
                cout << "Opção inválida." << endl;
        }

    } while(menu != 0);

    return 0;
}
